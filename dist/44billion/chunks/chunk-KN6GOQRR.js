import{d as u,e as $,g as R,i as I,l as V,p as W,r as C,w as P}from"./chunk-K2UKPH6Q.js";var p,S,x,O,w=class{constructor(){$(this,x);$(this,p,new Map);$(this,S,new FinalizationRegistry(R(this,x,O).bind(this)))}set(t,o){if(this.get(t)===o)return this;let c=new WeakRef(o);return u(this,S).unregister(c),u(this,p).set(t,c),u(this,S).register(o,t,c),this}get(t){return u(this,p).get(t)?.deref?.()}delete(t){let o=u(this,p).get(t);return o?(u(this,S).unregister(o),u(this,p).delete(t),!0):!1}has(t){return this.get(t)!==void 0}get[Symbol.toStringTag](){return"WeakValueMap"}};p=new WeakMap,S=new WeakMap,x=new WeakSet,O=function(t){u(this,p).delete(t)};function N(r=localStorage,t,o){let c=r.getItem(t),a;if(o===void 0?(r.removeItem(t),a=null):(a=JSON.stringify(o),r.setItem(t,a)),typeof window<"u"&&typeof StorageEvent<"u"){let b=new StorageEvent("storage",{key:t,oldValue:c,newValue:a,storageArea:r,url:window.location.href});window.dispatchEvent(b)}return o}function j(r){return/^[a-zA-Z_$][a-zA-Z0-9_$]*$/.test(r)}function k(r=localStorage,t,{shouldUseStrictKeys:o=!1,shouldReplaceInvalidValues:c=!1}={}){let a=W({},{shouldCache:!1,isStatic:!1}),b=I(()=>({})),y=C("useWebStorage_signalByKeyMap",()=>new w,{shouldCache:!1}),g=I(()=>{function h(i){return{get(e,n,l){return n!=="set"?Reflect.get(e,n,l):function(...s){let f=Reflect.get(e,n,l)(...s);return f===void 0?r.removeItem(i.slice(0,-1)):r.setItem(i.slice(0,-1),JSON.stringify(f)),f}},apply(e,n,l){if(!l.length)return Reflect.apply(e,n,l);let s=Reflect.apply(e,n,l);return s===void 0?r.removeItem(i.slice(0,-1)):r.setItem(i.slice(0,-1),JSON.stringify(s)),s}}}let m={set(i,e,n,l){try{if(!e.endsWith("$"))throw new Error('(useWebStorage) Append a "$" to the original storage key');if(o&&!j(e))throw new Error("(useWebStorage) Key name failed /^[a-zA-Z_$][a-zA-Z0-9_$]*$/ test");let s,f=e.slice(0,-1),E=Object.prototype.hasOwnProperty.call(r,f);return E&&(()=>{try{return s=JSON.parse(r.getItem(f)),!0}catch(d){if(console.log(d),c)return!1;throw new Error(`(useWebStorage) Can't JSON.parse value ${r.getItem(f)} stored at key ${e}`)}})()?Object.prototype.hasOwnProperty.call(i,e)?s:Reflect.set(i,e,V([function(){return s}].map(d=>(d.strategy="signal")&&d)[0]),l):(typeof n=="function"&&(n=n()),Reflect.set(i,e,V([function(){return n}].map(d=>(d.strategy="signal")&&d)[0]),l)?(n===void 0?E&&r.removeItem(f):r.setItem(f,JSON.stringify(n)),!0):!1)}catch(s){return console.error(s),!1}},get(i,e,n){return Object.prototype.hasOwnProperty.call(i,e)?b[e]??=y().get(e)??y().set(e,new Proxy(Reflect.get(i,e,n),h(e))).get(e):Reflect.set(n,e,void 0,n)?n[e]:void 0}};return new Proxy(a,m)});return P(()=>{t&&Object.entries(typeof t=="function"?t():t).forEach(([h,m])=>{g[h]=m})}),P(({cleanup:h})=>{let m;function i(e){if(e.storageArea!==r)return;let{key:n}=e,l=`${n}$`;if(n===null)return Object.keys(g).filter(s=>s.endsWith("$")).forEach(s=>g[s](void 0));Object.prototype.hasOwnProperty.call(g,l)&&g[l](e.newValue===null?void 0:JSON.parse(e.newValue))}window.addEventListener("storage",i,{signal:(m=new AbortController).signal}),h(()=>m.abort())}),g}function J(r){let t=`theme-${Math.random().toString(36).slice(2)}`,o={},c=`.${t} {
${Object.entries(r).map(([a,b],y,g)=>{let h=`--${a.replace(/([A-Z])/g,"-$1").toLowerCase()}`;return o[a]=`var(${h})`,`  ${h}: ${b};`+(g.length-1===y?"":`
`)}).join("")}
}
`;return[t,o,c]}var[L,M,T]=J({bg:"oklch(0.12 0 256)",fg:"oklch(0.87 0.01 256)",bgAvatar:"oklch(0.25 0.01 256)",bgAvatarLoading:"oklch(0.35 0.01 256)",bg2:"oklch(0.22 0 256)",bg2Lighter:"oklch(0.25 0 256)",mg2:"oklch(0.35 0 256)",fg2:"oklch(0.79 0 256)",bg3:"oklch(0.35 0 256)",bg3Primary:"oklch(0.44 0.16 291.61)",bg3Secondary:"oklch(0.53 0.13 56.36)",fg3:"oklch(0.71 0.01 256)",bg4:"oklch(0.49 0.01 17.47)",bgAccentPrimary:"oklch(0.56 0.25 302.32)",bgAccentSecondary:"oklch(0.56 0.20 87.32)",fgAccent:"oklch(0.94 0.01 256)",fg2AccentPrimary:"oklch(0.79 0.25 302.32)",bgPrimary:"oklch(0.65 0.20 280)",bgSecondary:"oklch(0.70 0.15 65)",fgSuccess:"oklch(0.55 0.22 142.32)",fgError:"oklch(0.55 0.22 25)"}),D={defaultTheme:T},Q={defaultTheme:L},U={colors:M},X={breakpoints:{mobile:"(max-width: 718px)",desktop:"(min-width: 719px)"}};export{N as a,k as b,D as c,Q as d,U as e,X as f};
