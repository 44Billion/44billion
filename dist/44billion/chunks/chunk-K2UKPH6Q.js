var lr=Object.create;var pe=Object.defineProperty;var cr=Object.getOwnPropertyDescriptor;var fr=Object.getOwnPropertyNames;var pr=Object.getPrototypeOf,dr=Object.prototype.hasOwnProperty;var lt=t=>{throw TypeError(t)};var hr=(t,e,r)=>e in t?pe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Qr=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Yr=(t,e)=>{for(var r in e)pe(t,r,{get:e[r],enumerable:!0})},mr=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of fr(e))!dr.call(t,o)&&o!==r&&pe(t,o,{get:()=>e[o],enumerable:!(n=cr(e,o))||n.enumerable});return t};var en=(t,e,r)=>(r=t!=null?lr(pr(t)):{},mr(e||!t||!t.__esModule?pe(r,"default",{value:t,enumerable:!0}):r,t));var x=(t,e,r)=>hr(t,typeof e!="symbol"?e+"":e,r),Le=(t,e,r)=>e.has(t)||lt("Cannot "+r);var m=(t,e,r)=>(Le(t,e,"read from private field"),r?r.call(t):e.get(t)),S=(t,e,r)=>e.has(t)?lt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),W=(t,e,r,n)=>(Le(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),de=(t,e,r)=>(Le(t,e,"access private method"),r);var ct=(t,e,r,n)=>({set _(o){W(t,e,o,r)},get _(){return m(t,e,n)}});var ft=(t,e,r,n,o)=>{let c=r.length,s=e.length,a=c,u=0,i=0,l=null;for(;u<s||i<a;)if(s===u){let p=a<c?i?n(r[i-1],-0).nextSibling:n(r[a],0):o;for(;i<a;)t.insertBefore(n(r[i++],1),p)}else if(a===i)for(;u<s;)(!l||!l.has(e[u]))&&t.removeChild(n(e[u],-1)),u++;else if(e[u]===r[i])u++,i++;else if(e[s-1]===r[a-1])s--,a--;else if(e[u]===r[a-1]&&r[i]===e[s-1]){let p=n(e[--s],-0).nextSibling;t.insertBefore(n(r[i++],1),n(e[u++],-0).nextSibling),t.insertBefore(n(r[--a],1),p),e[s]=r[a]}else{if(!l){l=new Map;let p=i;for(;p<a;)l.set(r[p],p++)}if(l.has(e[u])){let p=l.get(e[u]);if(i<p&&p<a){let f=u,d=1;for(;++f<s&&f<a&&l.get(e[f])===p+d;)d++;if(d>p-i){let h=n(e[u],0);for(;i<p;)t.insertBefore(n(r[i++],1),h)}else t.replaceChild(n(r[i++],1),n(e[u++],-1))}else u++}else t.removeChild(n(e[u++],-1))}return r};var{isArray:he}=Array,{getPrototypeOf:gr,getOwnPropertyDescriptor:yr}=Object;var pt="http://www.w3.org/2000/svg",k=[],me=()=>document.createRange(),A=(t,e,r)=>(t.set(e,r),r),dt=(t,e)=>{let r;do r=yr(t,e);while(!r&&(t=gr(t)));return r},ht=(t,e)=>e.reduceRight(br,t),br=(t,e)=>t.childNodes[e];var{setPrototypeOf:Cr}=Object,mt=t=>{function e(r){return Cr(r,new.target.prototype)}return e.prototype=t.prototype,e};var Z,ge=(t,e,r)=>(Z||(Z=me()),r?Z.setStartAfter(t):Z.setStartBefore(t),Z.setEndAfter(e),Z.deleteContents(),t);var $e=({firstChild:t,lastChild:e},r)=>ge(t,e,r),yt=!1,be=(t,e)=>yt&&t.nodeType===11?1/e<0?e?$e(t,!0):t.lastChild:e?t.valueOf():t.firstChild:t,gt=t=>document.createComment(t),V,oe,q,ye=class extends mt(DocumentFragment){constructor(r){super(r);S(this,V,gt("<>"));S(this,oe,gt("</>"));S(this,q,k);this.replaceChildren(m(this,V),...r.childNodes,m(this,oe)),yt=!0}get firstChild(){return m(this,V)}get lastChild(){return m(this,oe)}get parentNode(){return m(this,V).parentNode}remove(){$e(this,!1)}replaceWith(r){$e(this,!0).replaceWith(r)}valueOf(){let{parentNode:r}=this;if(r===this)m(this,q)===k&&W(this,q,[...this.childNodes]);else{if(r){let{firstChild:n,lastChild:o}=this;for(W(this,q,[n]);n!==o;)m(this,q).push(n=n.nextSibling)}this.replaceChildren(...m(this,q))}return this}};V=new WeakMap,oe=new WeakMap,q=new WeakMap;var bt=(t,e,r)=>t.setAttribute(e,r),se=(t,e)=>t.removeAttribute(e),Sr=(t,e)=>{for(let r in e){let n=e[r],o=r==="role"?r:`aria-${r}`;n==null?se(t,o):bt(t,o,n)}return e},Ce,_r=(t,e,r)=>{r=r.slice(1),Ce||(Ce=new WeakMap);let n=Ce.get(t)||A(Ce,t,{}),o=n[r];return o&&o[0]&&t.removeEventListener(r,...o),o=he(e)?e:[e,!1],n[r]=o,o[0]&&t.addEventListener(r,...o),e};var H=(t,e)=>{let{t:r,n}=t,o=!1;switch(typeof e){case"object":if(e!==null){(n||r).replaceWith(t.n=e.valueOf());break}case"undefined":o=!0;default:r.data=o?"":e,n&&(t.n=null,n.replaceWith(r));break}return e},wr=(t,e)=>He(t,e,e==null?"class":"className"),Er=(t,e)=>{let{dataset:r}=t;for(let n in e)e[n]==null?delete r[n]:r[n]=e[n];return e},xe=(t,e,r)=>t[r]=e,kr=(t,e,r)=>xe(t,e,r.slice(1)),He=(t,e,r)=>e==null?(se(t,r),e):xe(t,e,r),Ct=(t,e)=>(typeof e=="function"?e(t):e.current=t,e),qe=(t,e,r)=>(e==null?se(t,r):bt(t,r,e),e),Rr=(t,e)=>e==null?He(t,e,"style"):xe(t.style,e,"cssText"),Or=(t,e,r)=>(t.toggleAttribute(r.slice(1),e),e),U=(t,e,r)=>{let{length:n}=e;if(t.data=`[${n}]`,n)return ft(t.parentNode,r,e,be,t);switch(r.length){case 1:r[0].remove();case 0:break;default:ge(be(r[0],0),be(r.at(-1),-0),!1);break}return k},O=new Map([["aria",Sr],["class",wr],["data",Er],["ref",Ct],["style",Rr]]),xt=(t,e,r)=>{switch(e[0]){case".":return kr;case"?":return Or;case"@":return _r;default:return r||"ownerSVGElement"in t?e==="ref"?Ct:qe:O.get(e)||(e in t?e.startsWith("on")?xe:dt(t,e)?.set?He:qe:qe)}},St=(t,e)=>(t.textContent=e??"",e);var X=(t,e,r)=>({a:t,b:e,c:r}),_t=(t,e)=>({b:t,c:e}),wt=(t,e,r,n)=>({v:k,u:t,t:e,n:r,c:n}),D=()=>X(null,null,k);var Pe=t=>(e,r)=>{let{a:n,b:o,c}=t(e,r),s=document.importNode(n,!0),a=k;if(o!==k){a=[];for(let u,i,l=0;l<o.length;l++){let{a:p,b:f,c:d}=o[l],h=p===i?u:u=ht(s,i=p);a[l]=wt(f,h,d,f===U?[]:f===H?D():null)}}return _t(c?s.firstChild:new ye(s),a)};var Et=/^(?:plaintext|script|style|textarea|title|xmp)$/i,kt=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i;var Dr=/<([a-zA-Z0-9]+[a-zA-Z0-9:._-]*)([^>]*?)(\/?)>/g,Tr=/([^\s\\>"'=]+)\s*=\s*(['"]?)\x01/g,Ir=/[\x01\x02]/g,Rt=(t,e,r)=>{let n=0;return t.join("").trim().replace(Dr,(o,c,s,a)=>`<${c}${s.replace(Tr,"=$2$1").trimEnd()}${a?r||kt.test(c)?" /":`></${c}`:""}>`).replace(Ir,o=>o===""?`<!--${e+n++}-->`:e+n++)};var Se=document.createElement("template"),Fe,je,Ot=(t,e)=>{if(e)return Fe||(Fe=document.createElementNS(pt,"svg"),je=me(),je.selectNodeContents(Fe)),je.createContextualFragment(t);Se.innerHTML=t;let{content:r}=Se;return Se=Se.cloneNode(!1),r};var Be=t=>{let e=[],r;for(;r=t.parentNode;)e.push(e.indexOf.call(r.childNodes,t)),t=r;return e},Dt=()=>document.createTextNode(""),Mr=(t,e,r)=>{let n=Ot(Rt(t,ie,r),r),{length:o}=t,c=k;if(o>1){let u=[],i=document.createTreeWalker(n,129),l=0,p=`${ie}${l++}`;for(c=[];l<o;){let f=i.nextNode();if(f.nodeType===8){if(f.data===p){let d=he(e[l-1])?U:H;d===H&&u.push(f),c.push(X(Be(f),d,null)),p=`${ie}${l++}`}}else{let d;for(;f.hasAttribute(p);){d||(d=Be(f));let h=f.getAttribute(p);c.push(X(d,xt(f,h,r),h)),se(f,p),p=`${ie}${l++}`}!r&&Et.test(f.localName)&&f.textContent.trim()===`<!--${p}-->`&&(c.push(X(d||Be(f),St,null)),p=`${ie}${l++}`)}}for(l=0;l<u.length;l++)u[l].replaceWith(Dt())}let{childNodes:s}=n,{length:a}=s;return a<1?(a=1,n.appendChild(Dt())):a===1&&o!==1&&s[0].nodeType!==1&&(a=0),A(Tt,t,X(n,c,a===1))},Tt=new WeakMap,ie="is\xB5",We=t=>(e,r)=>Tt.get(e)||Mr(e,r,t);var Nr=Pe(We(!1)),Lr=Pe(We(!0)),Ue=(t,{s:e,t:r,v:n})=>{if(t.a!==r){let{b:o,c}=(e?Lr:Nr)(r,n);t.a=r,t.b=o,t.c=c}for(let{c:o}=t,c=0;c<o.length;c++){let s=n[c],a=o[c];switch(a.u){case U:a.v=U(a.t,$r(a.c,s),a.v);break;case H:let u=s instanceof M?Ue(a.c||(a.c=D()),s):(a.c=null,s);u!==a.v&&(a.v=H(a,u));break;default:s!==a.v&&(a.v=a.u(a.t,s,a.n,a.v));break}}return t.b},$r=(t,e)=>{let r=0,{length:n}=e;for(n<t.length&&t.splice(n);r<n;r++){let o=e[r];o instanceof M?e[r]=Ue(t[r]||(t[r]=D()),o):t[r]=null}return e},M=class{constructor(e,r,n){this.s=e,this.t=r,this.v=n}toDOM(e=D()){return Ue(e,this)}};var It=new WeakMap,Ke=(t,e)=>{let r=It.get(t)||A(It,t,D()),{b:n}=r;return n!==(typeof e=="function"?e():e).toDOM(r)&&t.replaceChildren(r.b.valueOf()),t};var At=t=>(e,...r)=>new M(t,e,r),ze=At(!1),Ge=At(!0);var vt=new WeakMap,Mt=t=>(e,r)=>{function n(c,...s){return new M(t,c,s).toDOM(this)}let o=vt.get(e)||A(vt,e,new Map);return o.get(r)||A(o,r,n.bind(D()))},Nt=Mt(!1),Lt=Mt(!0);var g=[];function _e(t,e){if(e===void 0||!t)throw new Error("Missing arg on registerCurrentObserverToLocalSet");if(!e)return;let r=e===!0?g[g.length-1]:e;r&&r.kind!=="offSwitch"&&t.add(r)}var ae=new Set;function we(t){let e=[];t.forEach(r=>{r.kind==="computed"&&ae.has(r)||(t.delete(r),e.push(r.trigger))}),e.forEach(qr)}function qr(t){t()}var b=Symbol("_f_eq");function Hr(t){let e={},r=t.split(";").map(o=>o.trim()).filter(o=>o),n=/^[-+]?(\d+\.?\d*|\.\d+)([eE][-+]?\d+)?$/;for(let o of r){let c=o.indexOf(":");if(c===-1)continue;let s=o.slice(0,c).trim(),a=o.slice(c+1).trim(),u=s;s.startsWith("--")||(u=s.replace(/-([a-z])/g,(l,p)=>p.toUpperCase()));let i=a;n.test(a)&&(i=parseFloat(a)),e[u]=i}return e}function Ze(t){return Array.isArray(t)?t.reduce((e,r)=>(r&&(r=Ze(r),Object.entries(r).forEach(([n,o])=>{e[n]=o})),e),{}):typeof t=="string"?Hr(t??""):t}function N(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function Ee(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function ke(t){return t.replace(/-([\w\d])/g,(e,r)=>r?r.toUpperCase():"")}function $t(t){return t.replace(new RegExp("(?<=[a-z])(?=[A-Z])|(?<=[A-Z])(?=[A-Z][a-z])|(?<=[a-zA-Z])(?=\\d)|(?<=\\d)(?=[a-zA-Z])","g"),"-").toLowerCase()}function E(t){return Array.isArray(t)?t.length:0}function R(t,e,r=(()=>{throw new Error("Missing previous length")})(),n=E(e),o,c=e?.[b]){return Object.is(t,e)&&r===n&&(c===void 0||Object.is(o,c))}function Ve(t,e){return typeof t=="function"?t(e,b):t instanceof Event&&typeof t.target.value=="string"?t.target.type==="number"?t.target.step.includes(".")?parseFloat(t.target.value):parseInt(t.target.value):t.target.value:t}var Re=(t=>()=>t??=Object.entries(Object.getOwnPropertyDescriptors(function(){})).reduce((e,[r,n])=>(n.configurable||e.push(r),e),[]))();function qt(t){return Object.assign({},t)}var Xe=class extends Set{add(e){return this.last=e,super.add(e)}delete(e){return this.last===e&&delete this.last,super.delete(e)}},C={previousComponentSet:new Xe,components:{}};function Ht(t){try{return JSON.parse(t)}catch{return t}}function Pt(t){return JSON.stringify(t)}function Je(t){if(t===void 0)return!1;let e=Ht(Pt({val:t})).val,r;return N(t)===N(e)&&((r=Array.isArray(t))&&t.every(Je)||!r&&["object","function"].includes(typeof t)||Object.is(t,e))}function Oe(t,e){C.components[t]?.cleanupFns?.add?.(e)}function De(t,e){C.components[t]?.cleanupFns?.delete?.(e)}function Ft(t){for(let e of C.components[t]?.cleanupFns?.values?.()||[])e()}function Qe(t,e){C.components[t]?.afterRenderFns?.add?.(e)}function jt(t){for(let e of C.components[t]?.afterRenderFns?.values?.()||[])e();C.components[t]?.afterRenderFns?.clear?.()}function Bt(t){if(!globalThis._F_SHOULD_RESTORE_STATE_ON_TAB_RELOAD)return;let e,r,n,o;for(e=window.sessionStorage.length-1;e>=0;e--)r=window.sessionStorage.key(e),[n,o]=r.split(":"),!(n!=="_f_hooks"||o!==t)&&window.sessionStorage.removeItem(r)}function P(t,e,r,n=null){!globalThis._F_SHOULD_RESTORE_STATE_ON_TAB_RELOAD||!Je(n)||window.sessionStorage.setItem(`_f_hooks:${t}:${e}:${r}`,Pt(n))}function T(){return C.currentComponent}function _(){return C.components[T().stableId]??={key:T().stableId,isDirty:!1,currentIndex:0,hookStates:[],get cleanupFns(){return delete this.cleanupFns&&(this.cleanupFns=new Set)},get afterRenderFns(){return delete this.afterRenderFns&&(this.afterRenderFns=new Set)}}}function ue(t,e=!globalThis._F_SHOULD_RESTORE_STATE_ON_TAB_RELOAD){if(e)return;let r,n;return Object.entries(t).reduce((o,[c,s])=>((n=s?._f_isSignal||s?._f_isComputed)?s=qt(s):!(r=c.endsWith("$"))&&!n&&Ee(s)&&(s=ue(s)),o[c]=s,o),{})}function K(t,e,r=!globalThis._F_SHOULD_RESTORE_STATE_ON_TAB_RELOAD){if(r)return{value:e(),isFreshValue:!0};let{key:n,currentIndex:o}=_(),c=`_f_hooks:${n}:${o}:${t}`;if(!(c in window.sessionStorage))return{value:e(),isFreshValue:!0};let s=Ht(window.sessionStorage.getItem(c));if(N(s)!=="object")return{value:s,isFreshValue:!1};let a=e();return function(){let i=[[s,a]],l=!1;for(;i.length>0;){let[p,f]=i.pop();if(N(f)!=="object"&&!f?._f_isSignal&&!f?._f_isComputed)return{value:a,isFreshValue:!0};if(Object.keys(p).every(h=>!(h in f)))return{value:a,isFreshValue:!0};Object.entries(p).forEach(([h,w])=>{N(w)==="object"&&i.push([w,f[h]])});let d={};for(let[h,w]of Object.entries(f))if(!(h in p)){if(Je(w))return{value:a,isFreshValue:!0};d[h]=!0}Object.entries(p).filter(([h])=>!d[h]&&N(f[h])!=="object"&&!f[h]?._f_isSignal&&!f[h]?._f_isComputed).forEach(([h,w])=>{l??=!0,f[h]=w})}return{value:a,isFreshValue:!l}}()}var Ye=new WeakMap;(function(){function e(i){return Ye.has(i.mountedNodeReference)||Ye.set(i.mountedNodeReference,new Map),Ye.get(i.mountedNodeReference)}function r(i,l,p){let f=e(p),d;for(d in i)d in l||f.delete(d);for(d in l)f.set(d,{length:E(l[d]),eq:l[d]?.[b]})}function n(i,l,p){let f;for(f in i)if(!(f in l))return!0;let d=e(p);for(f in l)if(!R(i[f],l[f],d.get(f)?.length??-1,void 0,d.get(f)?.[b]))return!0;return!1}function o(i,l,p){return i._f_isComponent?!1:(i.setAttribute(p,l),!0)}O.set("props",(i,l,p,f)=>{if(o(i,l,p))return l;if(f||={},l||={},N(l)!=="object")throw new Error("Component props should be an object literal");return n(f,l,i)&&(i.props=l,i._f_isComponent&&i.isMounted&&i.scheduleRender()),r(f,l,i),l});let c=O.get("style");O.set("style",(i,l,p,f)=>{if(typeof l!="object"||l===null)return c(i,l,p,f),l;let d={...Ze(l)};for(let h in f)h in d||(d[h]="");for(let h in d)d[h]==null&&(d[h]=""),i.style[h]=d[h];return i.getAttribute("style")===""&&i.removeAttribute("style"),l});let s=O.get("class");function a(i){return Object.entries(i).filter(([,l])=>!!l).map(([l])=>l).join(" ").trim()}function u(i,l,p,f){return Array.isArray(l)?l=l.flat(1/0).map(d=>typeof d=="object"?a(d):d).filter(Boolean).join(" "):typeof l=="object"&&(l=a(l)),s(i,l,p,f),l}O.set("class",u),O.set("className",u),O.set("ref",(i,l)=>{if("set"in l)l.set(i);else if("current"in l)l.current=i;else if(typeof l=="function")l(i);else throw new Error("Unknown ref");return l})})();function vo(t,e){let r=typeof t,n;if(r==="string")n={tagName:t};else if(r==="object")n=t;else if(r==="function")n=e??{},e=t;else throw new Error("Wrong function signature");let{tagName:o=e.name,useShadowDOM:c,useShadowDom:s=c??!1,shadowRootOptions:a={mode:"open"},enableCascadingStyles:u=!0,classProps:i,instanceProps:l,constructor:p}=n;if(o=o.includes("-")?o.toLowerCase():$t(o),!o)throw new Error("Need component tag name");let f=class extends Wt(n.as){constructor(){super({useShadowDom:s,shadowRootOptions:a,enableCascadingStyles:u}),p?.call(this)}};i&&Object.assign(f,i),l&&Object.assign(f.prototype,l);let d,h,w;f.prototype.component=function(){return d??=this.html.bind(this),h??=this.svg.bind(this),w??={html:d,h:d,svg:h,s:h,it:this,matches:Te.matches.bind(Te)},w.props=this.props,e.call(this,w)},customElements.define(o,f)}var Fr;function jr(){return Fr??=Array.from(document.styleSheets).map(t=>{let e=new CSSStyleSheet,r=Array.from(t.cssRules).map(n=>n.cssText).join(" ");return e.replaceSync(r),e})}function Br(t){t.adoptedStyleSheets.push(...jr())}var et={},Te=Wt();function Wt(t){var r,n,o;if(t in et)return et[t];let e;try{e=t?document.createElement(t).constructor:window.HTMLElement}catch(c){console.log(c.stack),e=window.HTMLUnknownElement}return et[t]=(r=class extends e{constructor({useShadowDOM:s,useShadowDom:a=s??!1,shadowRootOptions:u={mode:"open"},enableCascadingStyles:i=!0}={}){super();x(this,"_f_isComponent",!0);x(this,"mountedNodeReference",{});x(this,"state",{});x(this,"props",{});x(this,"attrs",{});x(this,"renderCall");x(this,"parentComponent",null);x(this,"renderRecallsDueToIsDirty",0);x(this,"maxPostponedRenderCallsDueToIsDirty",3);x(this,"componentBodyTrigger",()=>this.isMounted&&this.scheduleRender());S(this,o,null);x(this,"domUpdateRequest",null);x(this,"componentHtml",null);x(this,"h",this.html);x(this,"s",this.svg);this.enableCascadingStyles=i,(this.useShadowDom=a)&&(this.attachShadow(u),i&&Br(this.shadowRoot)),super.constructor===window.HTMLElement&&(this.style.display="contents")}static matches(s,a){return s.matches||(s=s.parentElement),s.matches(a)?s:s.closest(a)}connectedCallback(){this.isMounted?(cancelIdleCallback(this.unmountIdleCallback),this.parentComponent=C.previousComponentSet.last):(this.parentComponent=C.previousComponentSet.last,this.constructor.observedAttributes.forEach(s=>{this.updateAttr(s,this.getAttribute(s))}),window.requestIdleCallback(()=>window.requestIdleCallback(()=>{Promise.resolve(this.onMount?.()).then(()=>{this.setSignalObserver(),this.render()})},{timeout:50}),{timeout:100}),this.isMounted=!0)}disconnectedCallback(){let s=this.mountedNodeReference;this.unmountIdleCallback=window.requestIdleCallback(()=>window.requestIdleCallback(()=>{delete this.unmountIdleCallback,this.isAsyncUnmounting=!0,Promise.resolve(this.onUnmount?.()).then(()=>{Ft(this.stableId),this.renderCall&&window.cancelIdleCallback(this.renderCall),s===this.mountedNodeReference&&(this.mountedNodeReference={}),this.renderRecallsDueToIsDirty=0,delete this.renderCall,delete this.domUpdateRequest,delete this.componentHtml,delete this.parentComponent,delete C.components[this.stableId],Bt(this.stableId),this.deleteSignalObserver(),this.isMounted=!1})},{timeout:50}),{timeout:100})}attributeChangedCallback(s,a,u){this.updateAttr(s,u),this.scheduleRender()}static generateId(){return ct(this,n)._++}get stableId(){return Object.defineProperty(this,"stableId",{value:this.id||Te.generateId(),writable:!1,configurable:!0}).stableId}updateAttr(s,a){s!=="props"&&(this.attrs[ke(s)]=a)}handleEvent(s){(this[`on${s.type[0].toUpperCase()+s.type.slice(1)}`]??this[`on${(s.type.split(":")[1]??"")[0].toUpperCase()+(s.type.split(":")[1]??"")[1].slice(1)}`])?.(s,{matches:Te.matches})}get tagName(){return window.customElements.getName(this.constructor)}addElementEventListener(s,a=ke(this.tagName)){this.addEventListener([a,s].filter(Boolean).join(":"),this)}dispatchElementEvent(s,a={}){let u=ke(this.tagName),i=new CustomEvent(`${u}:${s}`,{bubbles:!0,cancelable:!0,...a});return this.dispatchEvent(i)}scheduleRender(){if(this.renderCall&&window.cancelIdleCallback(this.renderCall),!this.isMounted){console.log("Tried to schedule rendering of an unmounted node");return}let s=this.renderCall=window.requestIdleCallback(()=>{this.isMounted&&s===this.renderCall&&(delete this.renderCall,this.render())},{timeout:150})}beforeRenderAttempt(){this.renderCall&&window.cancelIdleCallback(this.renderCall),C.currentComponent=this}_beforeRender(){C.previousComponentSet.add(this),this?.beforeRender?.()}setSignalObserver(){W(this,o,{kind:"componentBody",trigger:this.componentBodyTrigger})}deleteSignalObserver(){W(this,o,null)}getSignalObserver(){return m(this,o)}render(){if(this.isMounted){if(this.beforeRenderAttempt(),g.push(this.getSignalObserver()),this.componentHtml=this.component()??this.html``,g.pop(),_().currentIndex=0,this.renderRecallsDueToIsDirty>=Math.max(0,this.maxPostponedRenderCallsDueToIsDirty)&&_().isDirty&&(_().isDirty=!1),_().isDirty){_().isDirty=!1,this.renderRecallsDueToIsDirty++;return}this.renderRecallsDueToIsDirty=0,!this.domUpdateRequest&&(this.domUpdateRequest=window.requestAnimationFrame(()=>{this.isMounted&&(this._beforeRender(),Ke(this.useShadowDom?this.shadowRoot:this,this.componentHtml),this._afterRender(),delete this.domUpdateRequest,delete this.componentHtml)}))}}_afterRender(){jt(this.stableId),C.previousComponentSet.delete(this),"currentComponent"in C&&delete C.currentComponent,this?.afterRender?.()}html(...s){return this.renderRecallsDueToIsDirty<Math.max(0,this.maxPostponedRenderCallsDueToIsDirty)&&_().isDirty?s[0]?.key!==void 0?()=>{}:void 0:s[0]?.key!==void 0?Nt(this.mountedNodeReference,s[0].key):ze(...s)}svg(...s){return this.renderRecallsDueToIsDirty<Math.max(0,this.maxPostponedRenderCallsDueToIsDirty)&&_().isDirty?s[0]?.key!==void 0?()=>{}:void 0:s[0]?.key!==void 0?Lt(this.mountedNodeReference,s[0].key):Ge(...s)}component(){return this.html`${this.useShadowDom?"<slot></slot>":this.innerHTML}`}},n=new WeakMap,o=new WeakMap,x(r,"observedAttributes",[]),S(r,n,0),r)}var Wr=(()=>{function t(o,c){let{value:s,isFreshValue:a}=K("memo",o);return a&&c(ue(s)),{memo:s}}function e(o,c){let{key:s,currentIndex:a}=o;P(s,a,"memo",c)}function r(o,c,s){c.memo=o(),e(s,c.memo)}function n(o,c){return()=>{g.push({kind:"offSwitch"});let s=o(c);return g.pop(),s}}return function(c,s={shouldCache:!1},a){let u;Array.isArray(s)?u=a?.shouldCache??!1:(u=s?.shouldCache??!1,s=[]);let i=_(),l=!i.hookStates[i.currentIndex],{key:p,currentIndex:f}=i;function d(B){u&&P(p,f,"memo",B)}let h=i.hookStates[i.currentIndex]??=t(n(c,d),d),{prevDeps:w,prevDepsLengths:fe,prevDepsEqs:ne}=h;return h.prevDeps=s,h.prevDepsLengths=s.map(E),h.prevDepsEqs=s.map(B=>B?.[b]),!l&&w.some((B,G)=>!R(B,h.prevDeps[G],fe[G],h.prevDepsLengths[G],ne,h.prevDepsEqs[G]))&&r(n(c,d),h,i),i.currentIndex++,h.memo}})(),y=Wr;function J(t,e={shouldCache:!1}){return y(()=>(t._f_isCallback||(t._f_isCallback=!0),t),e)}var F,Q,Ie,Ut,v=class{constructor(){S(this,Ie);S(this,F,new Map);S(this,Q,new FinalizationRegistry(de(this,Ie,Ut).bind(this)))}set(e,r){if(this.get(e)===r)return this;let n=new WeakRef(r);return m(this,Q).unregister(n),m(this,F).set(e,n),m(this,Q).register(r,e,n),this}get(e){return m(this,F).get(e)?.deref?.()}delete(e){let r=m(this,F).get(e);return r?(m(this,Q).unregister(r),m(this,F).delete(e),!0):!1}has(e){return this.get(e)!==void 0}get[Symbol.toStringTag](){return"WeakValueMap"}};F=new WeakMap,Q=new WeakMap,Ie=new WeakSet,Ut=function(e){m(this,F).delete(e)};var ys=new v;var L,j,Y,Ae,Gt,le=class{constructor(e=[]){S(this,Ae);S(this,L,new Set);S(this,j,new WeakMap);S(this,Y,new FinalizationRegistry(de(this,Ae,Gt).bind(this)));for(let r of e)this.add(r)}add(e){if(this.has(e))return this;let r=new WeakRef(e);return m(this,j).set(e,r),m(this,L).add(r),m(this,Y).register(e,r,r),this}has(e){return m(this,j).has(e)}delete(e){let r=m(this,j).get(e);return r?(m(this,Y).unregister(r),m(this,j).delete(e),m(this,L).delete(r),!0):!1}clear(){let e;for(let r of m(this,L).values())(e=r.deref())&&(m(this,Y).unregister(r),m(this,j).delete(e));m(this,L).clear()}*[Symbol.iterator](){let e;for(let r of m(this,L).values())(e=r.deref())&&(yield e)}forEach(e){for(let r of this)e(r)}get size(){let e=0;for(let r of this)e++;return e}*entries(){for(let e of this)yield[e,e]}values(){return this[Symbol.iterator]()}*keys(){yield*this.values()}get[Symbol.toStringTag](){return"IterableWeakSet"}};L=new WeakMap,j=new WeakMap,Y=new WeakMap,Ae=new WeakSet,Gt=function(e){m(this,L).delete(e)};var tt=new WeakMap;function z(t){return tt.has(t)||tt.set(t,new le),tt.get(t)}var rt=new WeakMap;function ve(t){if(!rt.has(t)){let e={isCacheValid:!1,invalidateCache(){this.isCacheValid=!1}};rt.set(t,e)}return rt.get(t)}function I(t,{shouldCache:e=!0}={}){return y(r=>ce(t,r),[],{shouldCache:e})}function Ur(t,e={}){return ce(t,e.persist??(()=>{}),e.thisArg??e.it)}function ce(t,e,r){let n=typeof t=="function"?t():t,o={_f_isSignal:!0,_value:n,_length:E(n),_equality:n?.[b],get(c=!0){return _e(z(o),c),o._value},set(c,s=!0){let a=this.get(!1),u=this._length,i=this._equality;return this._value=Ve(r!==void 0&&typeof c=="function"?c.bind(r):c,a),this._length=E(this._value),this._equality=this._value?.[b],R(a,this._value,u??-1,this._length,i,this._equality)||(s&&we(z(o)),e(this)),this._value}};return o.set=o.set.bind(o),Kr(o)}function Kr(t){let e={apply(r,n,o){return o.length===0?t.get():t.set(...o)},get(r,n,o){return Reflect.get(t,n,o)},set:function(r,n,o){return t[n]=o,!0},has(r,n){return n in t},ownKeys(){return[...new Set([...Object.getOwnPropertyNames(t),...Re()])]},getOwnPropertyDescriptor(r,n){return Object.getOwnPropertyDescriptor(t,n)||Object.getOwnPropertyDescriptor(function(){},n)}};return new Proxy(function(){},e)}function Zt(t,{shouldCache:e=!1}={}){return y(r=>nt(t,r),[],{shouldCache:e})}function nt(t,e,r){if(typeof t!="function")throw new Error("Computed must be set to a function");r!==void 0&&(t=t.bind(r));let n,o={kind:"computed",trigger:()=>{ve(n).invalidateCache(),z(n).size?s():n._value=void 0}},c=()=>{};function s(u=c){if(ae.has(o))throw new Error("A computed can't call ownself");ae.add(o),g.push(o);let i=(({_value:l,_length:p,_equality:f}={})=>({_value:l,_length:p,_equality:f}))(n);return n._value=t(),n._length=E(n._value),n._equality=n._value?.[b],ve(n).isCacheValid=!0,R(i._value,n._value,i._length??-1,n._length,i._equality,n._equality)||(we(z(n)),e(n)),g.pop(),ae.delete(o),u(),n._value}function a(u){return()=>{_e(z(n),u)}}return zr(n={_value:void 0,_f_isComputed:!0,get(u=!0){return ve(n).isCacheValid?(a(u)(),n._value):s(a(u))}})}function zr(t){let e={apply(r,n,o){return t.get()},get(r,n,o){return Reflect.get(t,n,o)},set:function(r,n,o){return t[n]=o,!0},has(r,n){return n in t},ownKeys(){return[...new Set([...Object.getOwnPropertyNames(t),...Re()])]},getOwnPropertyDescriptor(r,n){return Object.getOwnPropertyDescriptor(t,n)||Object.getOwnPropertyDescriptor(function(){},n)}};return new Proxy(function(){},e)}function ee(t,{shouldCache:e=!0,isStatic:r=!0}={}){return y(n=>Vt(typeof t=="function"?(o=>(g.push({kind:"offSwitch"}),o=t(),g.pop(),o))():t,{isStatic:r},n,!0),[],{shouldCache:e})}function ot(t,e,r=!globalThis._F_SHOULD_RESTORE_STATE_ON_TAB_RELOAD){if(r)return;let n=ue(e);t(n)}var $=new WeakMap;function Vt(t,e={isStatic:!0},r=()=>{},n=!0,o=t){let c={deleteProperty(a,u){let i=u.endsWith("$");return e.isStatic&&i?(console.error("Can't initialize/change/delete a signal variable after useStore's first call to keep their references at downstream components. Use <signalExample>$.set(undefined) instead of delete signalExample$"),!1):(delete a[u],!0)},set(a,u,i,l){let p=u.endsWith("$"),f=i?._f_isSignal||i?._f_isComputed;if(!f&&Ee(i)&&(i=Vt(i,e,r,n,o),f=i?._f_isSignal||i?._f_isComputed),e.isStatic&&!n&&p)return console.error("Can't initialize/change/delete a signal variable after useStore's first call to keep their references at downstream components. Use <signalExample>$.set(...) instead of signalExample$ = ... if a signal"),!1;if(p){if(i?._f_isCallback||i?._f_isUntrackedCallback)throw new Error("Callback can't end with $");if(i?._f_isSignal||i?._f_isComputed)a[u]=i;else if(typeof i=="function")switch(i.strategy){case"signal":a[u]=ce(i,()=>ot(r,$.get(o)),$.get(o));break;case"computed":default:a[u]=nt(i,()=>ot(r,$.get(o)),$.get(o))}else a[u]=ce(i,()=>ot(r,$.get(o)),$.get(o))}else{if(f)throw new Error("Signal/computed must end with $");typeof i=="function"&&!i._f_isCallback&&!i._f_isUntrackedCallback&&(i=i.bind($.get(o))),a[u]=i,r($.get(o))}return!0}},s=new Proxy({_f_isStore:!0},c);t===o&&$.set(o,s);for(let[a,u]of Object.entries(t))s[a]=u;return n&&t===o&&(n=!1),s}function Gr(t,e,r){let n=ee(e,r),o=Vr(T());return o.get(t)??(o.set(t,n)&&n)}function te(t,e,r){if(e)return Gr(t,e,r);let{parentComponent:n}=T(),o;for(;!o&&n;)o=Zr(n)?.get?.(t),n=n.parentComponent;if(!o)throw new Error(`No ancestor called useClosestStore("${t}", objOrFn)`);return o}var Me=new WeakMap;function Zr(t){return Me.get(t.mountedNodeReference)}function Vr(t){return Me.has(t.mountedNodeReference)||Me.set(t.mountedNodeReference,new v),Me.get(t.mountedNodeReference)}function Ne(t,e){let r=I();return r.set(()=>t),y(()=>{let o={get(c,s,a){return s==="set"?function(...u){return c.set(()=>e(...u).state)}:Reflect.get(c,s,a)},apply(c,s,a){return a.length?c.set(()=>e(...a).state):c.get()}};return new Proxy(r,o)},[],{shouldCache:!1})}function Xt({from$:t,from:e=t.get(!1),render:r,...n}={}){let o=y(()=>Array.isArray(e)?e.map(s=>Array.isArray(s)?[s,[n[s[0]],n[s[1]]]]:[[s],[n[s]]]):Object.entries(e).map(([s,a])=>[[s],Array.isArray(a)?a:[a]]),Array.isArray(e)?e.map(s=>n[Array.isArray(s)?s[0]:s]):Object.values(e).map(s=>Array.isArray(s)?s[0]:s)),c=o.map(([,s])=>Ne(...s));return y(()=>o.reduce((s,[a],u)=>(a[0].endsWith("$")||(a.forEach(i=>delete s[i]),s[`${a[0]}$`]=c[u]),s),n),[Object.keys(n).join(":")])}var st=new v;function re(t,e,r){let n=y(()=>!st.has(t),[]),o;return n&&(o=ee(e,r)),st.get(t)??(st.set(t,o)&&o)}function Jt(t,e,r){return re(t,()=>({$:[()=>typeof e=="function"?e():e].map(n=>(n.strategy="signal")&&n)[0]}),r).$}function Qt(t,e,r){if(typeof e!="function")throw new Error("Computed must be set to a function");return re(t,{$:e},r).$}function Yt(...t){if(t.length<2)return te(t[0]).$;let[e,r,n]=t;return te(e,()=>({$:[()=>typeof r=="function"?r():r].map(o=>(o.strategy="signal")&&o)[0]}),n).$}function at(t,e,r,n,o,c,s){if(!r.isMounted)return;e.signalObserver??=(()=>{function i(){at(t,e,r,n,o,c,!1)}return{kind:"task",trigger:i}})();function a(i){g.push(e.signalObserver);let l=i();return g.pop(),l}let u=(i=>function(p){if(!r.isMounted){p();return}if(i){i.fnsFromOtherCalls.push(p);return}e.prevCleanup=i=function(){p(),i.fnsFromOtherCalls.forEach(d=>d())},i.fnsFromOtherCalls=[],o(r.stableId,e.prevCleanup)})();if(n(r.stableId,e.prevCleanup),e.prevCleanup?.(),e.prevCleanup=void 0,g.push({kind:"offSwitch"}),Promise.try)Promise.try(t,{track:a,cleanup:u,isHotStart:s}).then(()=>{!e.hadRun&&c()}).catch(()=>{e.hadRun&&c(!1)});else try{let i=t({track:a,cleanup:u,isHotStart:s});i.then&&i.catch?i.then(()=>{!e.hadRun&&c()}).catch(()=>{e.hadRun&&c(!1)}):e.hadRun||c()}catch(i){throw e.hadRun&&c(!1),i}g.pop()}var it={root:null,rootMargin:"50%",threshold:0};function Xr(){let{value:t}=K("hadRun",()=>!1);return{hadRun:t,prevCleanup:()=>{}}}function er(t,e,{getCurrentComponent:r,getCurrentComponentHooksConfig:n,registerHookCleanupFunction:o,unregisterHookCleanupFunction:c}){let s=n(),a=!s.hookStates[s.currentIndex],u=s.hookStates[s.currentIndex]??=Xr();if(a){let fe=function(){switch(p){case"rendering":case"render":return Qe(i.stableId,()=>at(t,u,i,c,o,w,f));case"insertion":case"insert":default:return at(t,u,i,c,o,w,f)}},i=r(),{when:l="init",after:p="insertion"}=e,f=u.hadRun,{key:d,currentIndex:h}=s,w=(ne=!0)=>P(d,h,"hadRun",u.hadRun=ne);switch(l){case"visible":{let ir=function(ar){ar.every(ur=>!ur.isIntersecting)||(sr.unobserve(or),fe())},{root:ne=it.root,rootMargin:B=it.rootMargin,threshold:G=it.threshold}=e,or=i.useShadowDom?i.shadowRoot:i,sr=new IntersectionObserver(ir,{root:ne,rootMargin:B,threshold:G});break}case"init":case"initialized":default:fe()}}s.currentIndex++}function Jr(t,e,r){let n=I([],{shouldCache:!1}),o=I(!1,{shouldCache:!1}),c=I(!1,{shouldCache:!1});er(s=>{if(s.track(()=>{c.get()}),(e.queueSize??1)>=1&&o.get()){n.set(u=>(u.push(()=>t(s)),(e.queueSize??1)<u.length&&u.shift(),u));return}let a=n.get().length===0?()=>t(s):n.set(u=>(u.shift(),u));o.set(!0),Promise.resolve(a()).then(()=>{o.set(!1),n.get().length>0&&c.set(u=>!u)})},e,r)}function ut(t){return function(e,r={}){switch(r.execution??r.exec){case"serial":return Jr(e,r,t);case"concurrent":default:return er(e,r,t)}}}var tr=Symbol("awaitCanary");function rr(t,e,r){let n;(n=typeof e=="function")?r??={}:(r=e??={},e=t,t=void 0),r.shouldCache??=!0;let o=I({status:"pending",hasValue:n,isLoading:!1,error:null},{shouldCache:r.shouldCache}),c=y(()=>o.get(!1).status!=="resolved",[],{shouldCache:!1}),s=I(t,{shouldCache:r.shouldCache});s.promise$??=o;let a=J(async(...u)=>{try{if(o.set(i=>({status:"pending",hasValue:i.hasValue||!1,isLoading:!0,error:null})),u[0].isHotStart&&r.shouldCache&&!c){let i;await Promise.race([Promise.resolve().then(()=>tr),i=e(...u)])===tr&&s.set(await i)}else s.set(await e(...u));o.set({status:"resolved",hasValue:!0,isLoading:!1,error:null})}catch(i){o.set(l=>({status:"rejected",hasValue:l.hasValue||!1,isLoading:!1,error:i}))}});return nr(a,r),s}var nr=ut({getCurrentComponent:T,getCurrentComponentHooksConfig:_,registerHookCleanupFunction:Oe,unregisterHookCleanupFunction:De});export{Qr as a,Yr as b,en as c,m as d,S as e,W as f,de as g,vo as h,y as i,J as j,I as k,Ur as l,Ne as m,Xt as n,Zt as o,ee as p,re as q,Jt as r,Qt as s,te as t,Yt as u,rr as v,nr as w};
/*! Bundled license information:

uhtml/esm/index.js:
  (*! (c) Andrea Giammarchi - MIT *)

uhtml/esm/keyed.js:
  (*! (c) Andrea Giammarchi - MIT *)
*/
